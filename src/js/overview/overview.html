<!-- Owners information on the top -->
<div class="container profile fontGabriela">
    <div class="section profile-heading">
        <div class="columns">
            <div class="column is-2">
                <div class="image is-128x128 avatar">
                    <img class="profilePic" ng-src="{{overview.pupData[0].picture.url}}">
                </div>
            </div>
            <div class="column is-4 name">
                <p>
                    <span class="title is-bold profileTitle">Welcome {{overview.owner.firstName}}!</span>
                </p>
                <br>
                <p class="tagline userInfo">Let's stay up to date-</p>
                <p class="userInfo">Email: {{overview.owner.email}}</p>
                <p class="userInfo">Zip: {{overview.owner.zipCode}}</p>
                <p class="userInfo">NSR Registration Number: {{overview.owner.nsrRegistration}}</p>
            </div>
            <div class="column is-2">
                <p>
                    <span class="title is-bold vetVisit has-text-centered">Next Vet Visit(s)</span>
                </p>
                <br>
                <!--  <div ng-repeat='date in overview.vetAppt'>
                    <p>{{date | date}}</p>
                </div> -->
            </div>
            <div class="column is-3">
                <p>
                    <span class="title is-bold vetVisit has-text-centered">Last Fitness Activity</span>
                </p>
                <br>
                <p class="userInfo">Date: {{overview.fitnessData[0][0].date | date}}</p>
                <p class="userInfo">How'd it Go: {{overview.fitnessData[0][0].notes}}</p>
            </div>
            <div class="addPupText">
                <label for="addPup">Add a new pup here!</label>
                <a class="addPup" ng-click="overview.addPup()"><i class="fa fa-paw large" aria-hidden="true"></i></a>
            </div>
        </div>
    </div>
    <!-- End of owners information -->
    
    <!-- Todo and Pup Info -->
    <div class="columns">
        <div class="column is-half-desktop is-full-mobile">
            <section class="panel">
                <p class="panel-heading">
                    Here's your Todo List
                </p>
                <div class="panel-block">
                    <table class="table table-hover table-condensed">
                        <tr style="font-weight: bold">
                            <td style="width:80%">What I need to Get Done</td>
                            <td style="width:20%">When</td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr ng-repeat="task in overview.owner.todo | orderBy: Date">
                            <td ng-model="overview.task.task">
                                <!-- editable task (text with validation) -->
                                <i editable-text="task.task" e-name="task" e-form="rowform" onaftersave="checkName($data, todo._id)">{{ task.task }}</i>
                            </td>
                            <td ng-model="overview.task.date">
                                <!-- editable date (select-local) -->
                                <i editable-text="task.date" e-name="date" e-form="rowform" onafteresave="checkName($data, todo._id)">
          {{ task.date | date }}
        </i>
                            </td>
                            <td style="white-space: nowrap">
                                <!-- form -->
                                <form editable-form name="rowform" ng-show="rowform.$visible" class="form-buttons form-inline">
                                    <button type="submit" ng-click="overview.updateTodo(task, task._id)" ng-disabled="rowform.$waiting" class="button">
                                        Update
                                    </button>
                                    <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="button">
                                        Cancel
                                    </button>
                                </form>
                                <div class="buttons" ng-show="!rowform.$visible">
                                    <!-- Update is not working, yet -->
                                    <!-- <button class="button" ng-click="rowform.$show()">Edit</button> -->
                                    <button class="button" ng-click="overview.deleteTodo(task._id)">Completed</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input class="input" type="text" ng-model="overview.newTodo.task">
                            </td>
                            <td>
                                <input class="input" type="date" ng-model="overview.newTodo.date">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button class="button success" ng-click="overview.addTodo(overview.newTodo, overview.ownerId)">Add new task</button>
                            </td>
                        </tr>
                    </table>
                </div>
            </section>
        </div>
        <!-- Pup Card -->
        <div class="column is-2" ng-repeat="pup in overview.owner.pups">
            <div class="card">
                <div class="card-image">
                    <figure class="image is-1by1">
                        <img ng-src="{{pup.picture.url}}" alt="">
                    </figure>
                </div>
                <div class="card-content">
                    <div class="content">
                        <span class="title is-bold pupName">{{pup.name}}</span>
                    </div>
                </div>
                <footer class="card-footer">
                    <a class="card-footer-item pupInfo" ui-sref="pupInfo({_id: overview.ownerId,_pupId: pup._id})">{{pup.birthdate | date}}</a>
                    <a class="card-footer-item pupInfo" ui-sref="pupInfo({_id: overview.ownerId,_pupId: pup._id})">Pup's Info</a>
                </footer>
            </div>
            <br>
        </div>
    </div>
</div>
