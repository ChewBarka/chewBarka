<div class="container">
<div class="tile is-ancestor font">
    <div class="tile is-vertical is-6">
        <div class="tile">
            <div class="tile is-parent is-vertical">
                <article class="tile is-child notification is-primary">
                    <p class="title dogName"><strong>{{pupInfo.pup.name}}</strong></p>
                </article>
                <article class="tile is-child notification is-warning">
                    <p class="title">Who's {{pupInfo.pup.name}}</p>
                    <p class="subtitle">
                        <br>Age: {{pupInfo.pup.age}}
                        <br> Weight: {{pupInfo.pup.weight}} lbs
                        <br> Allergies: {{pupInfo.pup.allergies}}
                        <br> Medications: {{pupInfo.pup.medConditions}}
                        <br> Chip Information: {{pupInfo.pup.chipInformation}}
                    </p>
                </article>
            </div>
            <div class="tile is-parent blueTile">
                <article class="tile is-child notification is-info">
                    <p class="title">Let's take a closer Look</p>
                    <figure class="image is-4by3">
                        <img ng-src="{{pupInfo.pup.picture.url}}" alt="Image">
                    </figure>
                </article>
            </div>
        </div>
        <div class="tile is-parent">
            <article class="tile is-child notification is-danger">
                <p class="title">{{pupInfo.pup.name}}'s Workout Log</p>
                <p class="subtitle">Enter a recent activity you've done with {{pupInfo.pup.name}}</p>
                <div class="content">
                    <div>
                        <label>Date event took place: </label>
                        <input class="input" type="date" ng-model="pupInfo.newFitness.date">
                    </div>
                    <div>
                        <label>What did you do and how'd it go: </label>
                        <input class="input" type="text" ng-model="pupInfo.newFitness.notes">
                    </div>
                    <br>
                    <div>
                        <button class="button" ng-click="pupInfo.addFit(pupInfo.newFitness)">Log It!</button>
                    </div>
                </div>
            </article>
        </div>
    </div>
    <div class="tile is-parent">
        <article class="tile is-child notification is-primary">
            <div class="content">
                <p class="title medTitle">{{pupInfo.pup.name}}'s Medical Record</p>
                <p class="subtitle medSubTitle">Here are the most recent dates for each item</p>
                <div class="content">
                    <br>
                        <!-- Owner can create and update the med record here -->
                    <form editable-form name="editableForm" onaftersave="pupInfo.addMed()">
                        <p class="medText" ng-model="pupInfo.med.rabies">Rabies shot: <i editable-date="pupInfo.med.rabies" e-name="rabies" onbeforesave="checkName($data)" e-required>{{ pupInfo.pup.medicalRecord[0].rabies | date }}</i>
                        </p>
                        <p class="medText" ng-model="pupInfo.med.lepto">Lepto shot: <i editable-date="pupInfo.med.lepto" e-name="lepto" onbeforesave="checkName($data)" e-required>{{ pupInfo.pup.medicalRecord[0].lepto | date }}</i>
                        </p>
                        <p class="medText" ng-model="pupInfo.med.dhpp">DHPP shot: <i editable-date="pupInfo.med.dhpp" e-name="dhpp" onbeforesave="checkName($data)" e-required>{{ pupInfo.pup.medicalRecord[0].dhpp | date }}</i>
                        </p>
                        <p class="medText" ng-model="pupInfo.med.bordetella">Bordetella shot: <i editable-date="pupInfo.med.bordetella" e-name="bordetella" onbeforesave="checkName($data)" e-required>{{ pupInfo.pup.medicalRecord[0].bordetella | date }}</i>
                        </p>
                        <p class="medText" ng-model="pupInfo.med.chipInfo">Date for chip renewal: <i editable-date="pupInfo.med.chipInfo" e-name="chipInfo" onbeforesave="checkName($data)" e-required>{{ pupInfo.pup.medicalRecord[0].chipInfo | date }}</i>
                        </p>
                        <p class="medText" ng-model="pupInfo.med.heartWorm">Heartworm shot: <i editable-date="pupInfo.med.heartWorm" e-name="heartWorm" onbeforesave="checkName($data)" e-required>{{ pupInfo.pup.medicalRecord[0].heartWorm | date }}</i>
                        </p>
                        <p class="medText" ng-model="pupInfo.med.fleaPrevention">Flea Prevention: <i editable-date="pupInfo.med.fleaPrevention" e-name="fleaPrevention" onbeforesave="checkName($data)" e-required>{{ pupInfo.pup.medicalRecord[0].fleaPrevention | date }}</i>
                        </p>
                        <p class="medText" ng-model="pupInfo.med.bloodUrine">Blood/Urine Check: <i editable-date="pupInfo.med.bloodUrine" e-name="bloodUrine" onbeforesave="checkName($data)" e-required>{{ pupInfo.pup.medicalRecord[0].bloodUrine | date }}</i>
                        </p>
                        <p class="medText" ng-model="pupInfo.med.nextVisit">Next Vet Visit: <i editable-date="pupInfo.med.nextVisit" e-name="nextVisit" onbeforesave="checkName($data)" e-required>{{ pupInfo.pup.medicalRecord[0].nextVisit | date }}</i>
                        </p>
                        <p class="medText" ng-model="pupInfo.med.dentalExam">Last Dental Exam: <i editable-date="pupInfo.med.dentalExam" e-name="dentalExam" onbeforesave="checkName($data)" e-required>{{ pupInfo.pup.medicalRecord[0].dentalExam | date }}</i>
                        </p>
                        <p class="medText" ng-model="pupInfo.med.rattleSnakeTraining">Rattle Snake Training (Optional): <i editable-date="pupInfo.med.rattleSnakeTraining" e-name="rattleSnakeTraining" onbeforesave="checkName($data)" e-required>{{ pupInfo.pup.medicalRecord[0].rattleSnakeTraining | date }}</i>
                        </p>
                        <p class="medText" ng-model="pupInfo.med.medications">Last Time Medication Was Picked Up (Optional): <i editable-date="pupInfo.med.medications" e-name="medications" onbeforesave="checkName($data)" e-required>{{ pupInfo.pup.medicalRecord[0].medications | date }}</i>
                        </p>
                        <div class="buttons">
                            <button type="button" class="button" ng-click="editableForm.$show()" ng-show="!editableForm.$visible">
                                Make a change
                            </button>
                            <span ng-show="editableForm.$visible">
                        <button type="submit" class="button-small" ng-disabled="editableForm.$waiting">
                          Update
                        </button>
                        <button type="button" class="button-small" ng-disabled="editableForm.$waiting" ng-click="editableForm.$cancel()">
                          Cancel
                        </button>
                      </span>
                        </div>
                    </form>
                </div>
            </div>
        </article>
    </div>
</div>
<!-- Fitness Table -->
<section class="hero is-small is-primary is-bold">
    <div class="hero-body">
        <div class="container">
            <h1 class="title fitTitle">
        Fitness History
      </h1>
            <h2 class="subtitle fitTitle">
        How active has {{pupInfo.pup.name}} been -
      </h2>
        </div>
    </div>
</section>

<table class="table table-hover table-condensed">
    <tr style="font-weight: bold">
      <td style="width:20%">When did it Happen</td>
      <td style="width:60%">How'd it go</td>
      <td style="width:20%">Edit</td>
    </tr>
    <tr ng-repeat="fit in pupInfo.pup.fitness | orderBy: '-date'">
      <td ng-model="pupInfo.fit.date">
        <!-- editable username (text with validation) -->
          <i editable-text="fit.date" e-name="date" e-form="rowform" onbeforesave="checkName($data)">{{ fit.date | date}}</i>
      </td>
      <td ng-model="pupInfo.fit.notes">
        <!-- editable username (text with validation) -->
          <i editable-text="fit.notes" e-name="notes" e-form="rowform" onbeforesave="checkName($data)">{{ fit.notes }}
          </i>
      </td>

      <td style="white-space: nowrap">
       <!-- form -->
        <form editable-form name="rowform" ng-show="rowform.$visible" class="form-buttons form-inline">
          <button type="submit" ng-disabled="rowform.$waiting" class="button" ng-click="pupInfo.updateFit(fit, fit.__id)">
            Update
          </button>
          <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="button">
            Cancel
          </button>
        </form>
        <div class="buttons" ng-show="!rowform.$visible">
          <!-- Edit button is not wroking, yet -->
          <!-- <button class="button" ng-click="rowform.$show()">Edit</button> -->
          <button class="button" ng-click="pupInfo.removeFit(fit._id)">Delete</button>
        </div>  
      </td>
    </tr>
  </table>
  </div>
